<view class="main">
    <view class="form-box">
        <form bindsubmit="formSubmit">
            <view class="form-item">
                <view class="form-label">姓名</view>
                <input 
                    value="{{address.name}}" 
                    name="name" 
                    placeholder="请输入收货人姓名" 
                    class="form-input {{validation.nameValid ? '' : 'error'}}"
                    bindinput="onNameInput"
                />
                <view class="error-tip" wx:if="{{!validation.nameValid}}">{{errors.name}}</view>
            </view>
            
            <view class="form-item">
                <view class="form-label">电话</view>
                <input 
                    type="digit" 
                    name="phone" 
                    value="{{address.phone}}" 
                    placeholder="请输入手机号码" 
                    class="form-input {{validation.phoneValid ? '' : 'error'}}"
                    bindinput="onPhoneInput"
                />
                <view class="error-tip" wx:if="{{!validation.phoneValid}}">{{errors.phone}}</view>
            </view>
            
            <view class="form-item">
                <view class="form-label">详细地址</view>
                <textarea 
                    name="detail" 
                    value="{{address.detail}}" 
                    placeholder="请输入详细收货地址，如：北京市朝阳区某某街道某某小区某栋某单元某室" 
                    class="form-textarea {{validation.detailValid ? '' : 'error'}}"
                    bindinput="onDetailInput"
                ></textarea>
                <view class="error-tip" wx:if="{{!validation.detailValid}}">{{errors.detail}}</view>
            </view>

            <view class="form-item">
                <view class="form-label">备注</view>
                <textarea 
                    name="message" 
                    value="{{address.message}}" 
                    placeholder="配送备注（选填），如：请放在门口、联系电话等" 
                    class="form-textarea {{validation.messageValid ? '' : 'error'}}"
                    bindinput="onMessageInput"
                ></textarea>
                <view class="error-tip" wx:if="{{!validation.messageValid}}">{{errors.message}}</view>
            </view>
            
            <button 
                form-type="submit" 
                class="save-btn {{validation.nameValid && validation.phoneValid && validation.detailValid && validation.messageValid ? '' : 'disabled'}}"
            >
                保存地址
            </button>
        </form>
    </view>
</view>
